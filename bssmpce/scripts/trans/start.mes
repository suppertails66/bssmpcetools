{
  setFunc         
  (
    [
      pushImmed       $0
      retVar          
    ]
    {
      setFunc         
      (
        [
          pushShort       $1E
          retVar          
        ]
        {
          op18            
          (
            [
              pushInt         $E1
              retVar          
            ]
          )
          writeValueWord  $9
          [
            pushArrayWord   $0
            pushShort       $17
            readWordArray   
            retVar          
          ]
          func_op18       
          (
            [
              pushImmed       $8
              retVar          
            ]
            [
              pushInt         $A6
              pushArrayWord   $9
              pushShort       $10
              mul             
              add             
              pushImmed       $1
              sub             
              retVar          
            ]
            [
              pushShort       $1E
              retVar          
            ]
            [
              pushInt         $A6
              pushArrayWord   $9
              pushShort       $10
              mul             
              add             
              pushImmed       $B
              add             
              pushImmed       $1
              add             
              retVar          
            ]
          )
          op18            
          (
            [
              pushShort       $1F
              retVar          
            ]
          )
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $1F
          retVar          
        ]
        {
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $20
          retVar          
        ]
        {
          callFunc        
          (
            [
              pushShort       $1E
              retVar          
            ]
          )
          op17            
          (
          )
          writeArrayWords $0
            [
              pushShort       $1B
              retVar          
            ]
          (
            [
              pushImmed       $0
              retVar          
            ]
          )
          writeValueWord  $A
          [
            pushArrayWord   $0
            pushShort       $16
            readWordArray   
            retVar          
          ]
          writeValueWord  $13
          [
            pushArrayWord   $A
            pushArrayWord   $0
            pushShort       $17
            readWordArray   
            pushImmed       $2
            mul             
            pushImmed       $1
            add             
            readWordArray   
            retVar          
          ]
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $21
          retVar          
        ]
        {
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $22
          retVar          
        ]
        {
          if              
          [
            pushArrayWord   $0
            pushShort       $17
            readWordArray   
            pushImmed       $0
            neg             
            retVar          
          ]
          {
            callFunc        
            (
              [
                pushShort       $1E
                retVar          
              ]
            )
            writeArrayWords $0
              [
                pushShort       $17
                retVar          
              ]
            (
              [
                pushArrayWord   $0
                pushShort       $17
                readWordArray   
                pushImmed       $1
                sub             
                retVar          
              ]
            )
            callFunc        
            (
              [
                pushShort       $1E
                retVar          
              ]
            )
            ret             
          }
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $23
          retVar          
        ]
        {
          if              
          [
            pushArrayWord   $0
            pushShort       $17
            readWordArray   
            pushImmed       $9
            neg             
            retVar          
          ]
          {
            writeValueWord  $A
            [
              pushArrayWord   $0
              pushShort       $16
              readWordArray   
              retVar          
            ]
            if              
            [
              pushArrayWord   $A
              pushArrayWord   $0
              pushShort       $17
              readWordArray   
              pushImmed       $1
              add             
              pushImmed       $2
              mul             
              pushImmed       $1
              add             
              readWordArray   
              pushImmed       $0
              neg             
              retVar          
            ]
            {
              callFunc        
              (
                [
                  pushShort       $1E
                  retVar          
                ]
              )
              writeArrayWords $0
                [
                  pushShort       $17
                  retVar          
                ]
              (
                [
                  pushArrayWord   $0
                  pushShort       $17
                  readWordArray   
                  pushImmed       $1
                  add             
                  retVar          
                ]
              )
              callFunc        
              (
                [
                  pushShort       $1E
                  retVar          
                ]
              )
              ret             
            }
            ret             
          }
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $24
          retVar          
        ]
        {
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $25
          retVar          
        ]
        {
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $26
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $0
              retVar          
            ]
          )
          callFunc        
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          op17            
          (
          )
          writeArrayWords $0
            [
              pushShort       $19
              retVar          
            ]
          (
            [
              pushImmed       $3
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushShort       $18
              retVar          
            ]
          (
            [
              pushImmed       $0
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushShort       $17
              retVar          
            ]
          (
            [
              pushImmed       $0
              retVar          
            ]
          )
          func_op14       
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          func_op14       
          (
            [
              pushImmed       $0
              retVar          
            ]
          )
          op18            
          (
            [
              pushShort       $1F
              retVar          
            ]
          )
          writeValueWord  $A
          [
            pushArrayWord   $0
            pushShort       $16
            readWordArray   
            retVar          
          ]
          writeValueWord  $9
          [
            pushImmed       $0
            retVar          
          ]
          ifThenWhile     $F
            [
              pushArrayWord   $9
              pushArrayWord   $0
              pushShort       $1A
              readWordArray   
              neg             
              retVar          
            ]
            {
              writeArrayWords $0
                [
                  pushShort       $11
                  retVar          
                ]
              (
                [
                  pushImmed       $8
                  pushImmed       $8
                  mul             
                  retVar          
                ]
                [
                  pushInt         $A6
                  pushArrayWord   $9
                  pushShort       $10
                  mul             
                  add             
                  retVar          
                ]
              )
              op14            
              (
                [
                  pushArrayWord   $A
                  pushArrayWord   $9
                  pushImmed       $2
                  mul             
                  readWordArray   
                  retVar          
                ]
              )
              writeValueWord  $9
              [
                pushArrayWord   $9
                pushImmed       $1
                add             
                retVar          
              ]
              ret             
            }
          op18            
          (
            [
              pushInt         $F1
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushShort       $17
              retVar          
            ]
          (
            [
              pushImmed       $0
              retVar          
            ]
          )
          callFunc        
          (
            [
              pushShort       $1E
              retVar          
            ]
          )
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $27
          retVar          
        ]
        {
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $29
          retVar          
        ]
        {
          ret             
        }
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $1
      retVar          
    ]
    {
      func_op16       
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $D
          retVar          
        ]
      (
        [
          pushImmed       $8
          retVar          
        ]
        [
          pushInt         $A0
          retVar          
        ]
        [
          pushShort       $1E
          retVar          
        ]
        [
          pushInt         $D5
          retVar          
        ]
      )
      op18            
      (
        [
          pushShort       $1F
          retVar          
        ]
      )
      op17            
      (
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushShort       $11
      retVar          
    ]
    {
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushInt         $FF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $16
          pushShort       $12
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $3180
          retVar          
        ]
        [
          pushLong        $9D00
          pushLong        $3180
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $D
          retVar          
        ]
        [
          pushImmed       $5
          retVar          
        ]
        [
          pushImmed       $1
          retVar          
        ]
        [
          pushShort       $16
          retVar          
        ]
        [
          pushShort       $12
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $4E8
          pushInt         $18C
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          add             
          pushImmed       $1
          and             
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushShort       $12
      retVar          
    ]
    {
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushInt         $FF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $8000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $16
          pushShort       $12
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $3180
          retVar          
        ]
        [
          pushLong        $9D00
          pushLong        $3180
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $8000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $D
          retVar          
        ]
        [
          pushImmed       $5
          retVar          
        ]
        [
          pushImmed       $1
          retVar          
        ]
        [
          pushShort       $16
          retVar          
        ]
        [
          pushShort       $12
          retVar          
        ]
        [
          pushLong        $8000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $4E8
          pushInt         $18C
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          add             
          pushImmed       $1
          and             
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $2
      retVar          
    ]
    {
      if              
      [
        pushArrayWord   $9
        pushImmed       $0
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $1
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $2
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $3
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $4
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $3
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $5
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $3
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $6
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $4
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $7
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $4
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $8
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $9
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      ret             
    }
  )
  setFunc         
  (
    [
      pushShort       $13
      retVar          
    ]
    {
      if              
      [
        pushArrayWord   $9
        pushImmed       $0
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $1
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $2
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $3
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $4
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $3
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $5
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $3
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $6
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $4
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $7
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $4
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $8
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $11
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $9
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushShort       $12
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        ret             
      }
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $3
      retVar          
    ]
    {
      writeValueWord  $1A
      [
        pushImmed       $0
        retVar          
      ]
      func_op26       
      (
        {
          if              
          [
            pushArrayWord   $1A
            pushImmed       $0
            eq              
            retVar          
          ]
          {
            writeArrayWords $0
              [
                pushImmed       $7
                retVar          
              ]
            (
              [
                pushImmed       $1
                retVar          
              ]
            )
            callFunc        
            (
              [
                pushShort       $11
                retVar          
              ]
            )
            writeArrayWords $0
              [
                pushImmed       $7
                retVar          
              ]
            (
              [
                pushImmed       $0
                retVar          
              ]
            )
            ret             
          }
          if              
          [
            pushArrayWord   $1A
            pushImmed       $A
            eq              
            retVar          
          ]
          {
            writeArrayWords $0
              [
                pushImmed       $7
                retVar          
              ]
            (
              [
                pushImmed       $1
                retVar          
              ]
            )
            callFunc        
            (
              [
                pushShort       $12
                retVar          
              ]
            )
            writeArrayWords $0
              [
                pushImmed       $7
                retVar          
              ]
            (
              [
                pushImmed       $0
                retVar          
              ]
            )
            ret             
          }
          writeValueWord  $1A
          [
            pushArrayWord   $1A
            pushImmed       $1
            add             
            retVar          
          ]
          if              
          [
            pushArrayWord   $1A
            pushShort       $14
            lt              
            retVar          
          ]
          {
            writeValueWord  $1A
            [
              pushImmed       $0
              retVar          
            ]
            ret             
          }
          ret             
        }
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $4
      retVar          
    ]
    {
      writeValueWord  $11
      [
        pushArrayWord   $0
        pushImmed       $C
        readWordArray   
        retVar          
      ]
      writeArrayWords $0
        [
          pushImmed       $9
          retVar          
        ]
      (
        [
          pushArrayWord   $0
          pushImmed       $9
          readWordArray   
          pushLong        $8000
          or              
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $C
          retVar          
        ]
      (
        [
          pushArrayWord   $0
          pushImmed       $C
          readWordArray   
          pushImmed       $2
          or              
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushImmed       $B
          retVar          
        ]
      )
      op16            
      (
      )
      op17            
      (
      )
      writeArrayWords $0
        [
          pushImmed       $9
          retVar          
        ]
      (
        [
          pushArrayWord   $0
          pushImmed       $9
          readWordArray   
          pushLong        $7FFF
          and             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $C
          retVar          
        ]
      (
        [
          pushArrayWord   $0
          pushImmed       $C
          readWordArray   
          pushLong        $FFFD
          and             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $C
          retVar          
        ]
      (
        [
          pushArrayWord   $11
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $5
      retVar          
    ]
    {
      func_op24       
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      if              
      [
        pushArrayWord   $9
        pushImmed       $0
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M001"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $1
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M002"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $2
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M003"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $3
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M004"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $4
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M005"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $5
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M006"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $6
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M008"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $7
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M009"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $8
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M010"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $9
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M011"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $A
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M012"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $B
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M013"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $C
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M014"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $D
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M015"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $E
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M016"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $10
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M017"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $11
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M018"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $12
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M019"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $13
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M020"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $14
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M021"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $15
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M022"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $16
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M023"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $17
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M024"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $18
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M025"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $19
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M026"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $1A
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M027"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $1B
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M028"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $1C
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M029"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $1D
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M030"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $1E
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M031"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $1F
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M032"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $20
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M033"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $21
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M034"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $22
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M035"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $23
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M036"
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushShort       $24
        eq              
        retVar          
      ]
      {
        playMusic       
        (
          "M037"
        )
        ret             
      }
      func_op24       
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $6
      retVar          
    ]
    {
      writeArrayWords $0
        [
          pushImmed       $D
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $1F
          retVar          
        ]
        [
          pushInt         $DF
          retVar          
        ]
      )
      op18            
      (
        [
          pushImmed       $7
          retVar          
        ]
      )
      op17            
      (
      )
      if              
      [
        pushArrayWord   $9
        pushImmed       $0
        eq              
        retVar          
      ]
      {
        if              
        [
          litNybArrayRead int $384
          pushImmed       $0
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "wakua.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $1
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "waku7.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $2
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "waku1.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $3
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "waku4.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $4
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "wakud.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        ret             
      }
      else            
      if              
      [
        pushArrayWord   $9
        pushImmed       $1
        eq              
        retVar          
      ]
      {
        if              
        [
          litNybArrayRead int $384
          pushImmed       $0
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "wakub.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $1
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "waku8.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $2
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "waku2.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $3
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "waku5.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $4
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "wakue.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        ret             
      }
      else            
      if              
      [
        pushArrayWord   $9
        pushImmed       $2
        eq              
        retVar          
      ]
      {
        if              
        [
          litNybArrayRead int $384
          pushImmed       $0
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "wakuc.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $1
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "waku9.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $2
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "waku3.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $3
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "waku6.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $4
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "wakuf.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        ret             
      }
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushImmed       $7
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $9
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $20
          pushShort       $1C
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $7000
          retVar          
        ]
        [
          pushLong        $2200
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $C
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $110
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      writeValueWord  $14
      [
        pushArrayWord   $0
        pushShort       $22
        readWordArray   
        pushShort       $10
        pushImmed       $E
        mul             
        pushImmed       $2
        mul             
        add             
        retVar          
      ]
      writeArrayWords $14
        [
          pushImmed       $0
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushInt         $FFF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $D
          retVar          
        ]
      (
        [
          pushImmed       $8
          retVar          
        ]
        [
          pushInt         $A6
          pushImmed       $6
          sub             
          retVar          
        ]
        [
          pushShort       $1E
          retVar          
        ]
        [
          pushInt         $D5
          pushImmed       $2
          add             
          retVar          
        ]
      )
      op18            
      (
        [
          pushShort       $1F
          retVar          
        ]
      )
      op17            
      (
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $7
      retVar          
    ]
    {
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          and             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushInt         $FF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $16
          pushShort       $12
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $3180
          retVar          
        ]
        [
          pushLong        $9D00
          pushLong        $3180
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $D
          retVar          
        ]
        [
          pushImmed       $5
          retVar          
        ]
        [
          pushImmed       $1
          retVar          
        ]
        [
          pushShort       $16
          retVar          
        ]
        [
          pushShort       $12
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $4E8
          pushInt         $18C
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          add             
          pushImmed       $1
          and             
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $8
      retVar          
    ]
    {
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          and             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushLong        $FFFF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $20
          pushShort       $1C
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $7000
          retVar          
        ]
        [
          pushLong        $2000
          pushLong        $7000
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $C
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $100
          pushInt         $380
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          add             
          pushImmed       $1
          and             
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $9
      retVar          
    ]
    {
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          and             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushLong        $FFFF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $20
          pushShort       $1C
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $7000
          retVar          
        ]
        [
          pushLong        $2000
          pushLong        $7000
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $D
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $100
          pushInt         $380
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          add             
          pushImmed       $1
          and             
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $A
      retVar          
    ]
    {
      setFunc         
      (
        [
          pushShort       $1E
          retVar          
        ]
        {
          if              
          [
            litNybArrayRead int $384
            pushImmed       $0
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushInt         $CC
                retVar          
              ]
            )
            ret             
          }
          else            
          if              
          [
            litNybArrayRead int $384
            pushImmed       $1
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushInt         $EE
                retVar          
              ]
            )
            ret             
          }
          else            
          if              
          [
            litNybArrayRead int $384
            pushImmed       $2
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushInt         $55
                retVar          
              ]
            )
            ret             
          }
          else            
          if              
          [
            litNybArrayRead int $384
            pushImmed       $3
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushInt         $BB
                retVar          
              ]
            )
            ret             
          }
          else            
          if              
          [
            litNybArrayRead int $384
            pushImmed       $4
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushInt         $FF
                retVar          
              ]
            )
            ret             
          }
          func_op18       
          (
            [
              pushImmed       $1
              pushShort       $10
              add             
              retVar          
            ]
            [
              pushInt         $78
              pushArrayWord   $0
              pushShort       $17
              readWordArray   
              pushShort       $10
              mul             
              add             
              pushShort       $10
              sub             
              pushImmed       $1
              sub             
              retVar          
            ]
            [
              pushImmed       $B
              pushShort       $10
              add             
              retVar          
            ]
            [
              pushInt         $78
              pushArrayWord   $0
              pushShort       $17
              readWordArray   
              pushShort       $10
              mul             
              add             
              pushShort       $10
              sub             
              pushImmed       $E
              add             
              pushImmed       $1
              sub             
              retVar          
            ]
          )
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $1F
          retVar          
        ]
        {
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $20
          retVar          
        ]
        {
          callFunc        
          (
            [
              pushShort       $1E
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushShort       $1B
              retVar          
            ]
          (
            [
              pushImmed       $0
              retVar          
            ]
          )
          writeValueWord  $13
          [
            pushArrayWord   $0
            pushShort       $17
            readWordArray   
            retVar          
          ]
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $21
          retVar          
        ]
        {
          callFunc        
          (
            [
              pushShort       $1E
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushShort       $1B
              retVar          
            ]
          (
            [
              pushImmed       $0
              retVar          
            ]
          )
          writeValueWord  $13
          [
            pushImmed       $0
            retVar          
          ]
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $22
          retVar          
        ]
        {
          callFunc        
          (
            [
              pushShort       $1E
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushShort       $17
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          callFunc        
          (
            [
              pushShort       $1E
              retVar          
            ]
          )
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $23
          retVar          
        ]
        {
          callFunc        
          (
            [
              pushShort       $1E
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushShort       $17
              retVar          
            ]
          (
            [
              pushImmed       $2
              retVar          
            ]
          )
          callFunc        
          (
            [
              pushShort       $1E
              retVar          
            ]
          )
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $24
          retVar          
        ]
        {
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $25
          retVar          
        ]
        {
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $26
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushShort       $17
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          callFunc        
          (
            [
              pushShort       $1E
              retVar          
            ]
          )
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $27
          retVar          
        ]
        {
          ret             
        }
      )
      setFunc         
      (
        [
          pushShort       $29
          retVar          
        ]
        {
          ret             
        }
      )
      dlgChoice       
      (
        {
          ret             
        }
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $B
      retVar          
    ]
    {
      writeArrayWords $0
        [
          pushShort       $11
          retVar          
        ]
      (
        [
          pushInt         $40
          pushImmed       $C
          pushImmed       $E
          mul             
          add             
          retVar          
        ]
        [
          pushInt         $A0
          retVar          
        ]
      )
      <MSG_0> // 
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $C
      retVar          
    ]
    {
      if              
      [
        pushArrayWord   $0
        pushImmed       $C
        readWordArray   
        pushImmed       $2
        and             
        pushImmed       $0
        eq              
        retVar          
      ]
      {
        func_op1A       
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        ret             
      }
      callFunc        
      (
        [
          pushImmed       $B
          retVar          
        ]
      )
      op11            
      (
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $D
      retVar          
    ]
    {
      writeValueWord  $1A
      [
        pushImmed       $0
        retVar          
      ]
      func_op26       
      (
        {
          if              
          [
            pushArrayWord   $1A
            pushImmed       $0
            eq              
            retVar          
          ]
          {
            writeArrayWords $0
              [
                pushImmed       $7
                retVar          
              ]
            (
              [
                pushImmed       $1
                retVar          
              ]
            )
            writeArrayWords $0
              [
                pushShort       $21
                retVar          
              ]
            (
              [
                pushLong        $FFFF
                retVar          
              ]
            )
            writeArrayWords $0
              [
                pushShort       $23
                retVar          
              ]
            (
              [
                pushImmed       $0
                retVar          
              ]
            )
            op19            
            (
              [
                pushImmed       $4
                retVar          
              ]
              [
                pushLong        $4000
                pushImmed       $4
                add             
                pushInt         $200
                add             
                pushShort       $20
                pushShort       $1C
                mul             
                add             
                retVar          
              ]
              [
                pushLong        $7000
                retVar          
              ]
              [
                pushLong        $2000
                pushLong        $7000
                litNybArrayRead immed $0
                mul             
                add             
                pushImmed       $2
                div             
                retVar          
              ]
            )
            op19            
            (
              [
                pushImmed       $E
                retVar          
              ]
              [
                pushLong        $4000
                pushImmed       $4
                add             
                retVar          
              ]
            )
            op19            
            (
              [
                pushImmed       $D
                retVar          
              ]
              [
                pushImmed       $0
                retVar          
              ]
              [
                pushImmed       $0
                retVar          
              ]
              [
                pushShort       $20
                retVar          
              ]
              [
                pushShort       $1C
                retVar          
              ]
              [
                pushLong        $4000
                pushImmed       $4
                add             
                pushInt         $200
                add             
                retVar          
              ]
              [
                pushInt         $100
                pushInt         $380
                litNybArrayRead immed $0
                mul             
                add             
                retVar          
              ]
            )
            writeNybsLit    immed $0
            (
              [
                litNybArrayRead immed $0
                pushImmed       $1
                add             
                pushImmed       $1
                and             
                retVar          
              ]
            )
            ret             
          }
          if              
          [
            pushArrayWord   $1A
            pushImmed       $A
            eq              
            retVar          
          ]
          {
            writeArrayWords $0
              [
                pushImmed       $7
                retVar          
              ]
            (
              [
                pushImmed       $2
                retVar          
              ]
            )
            writeArrayWords $0
              [
                pushShort       $21
                retVar          
              ]
            (
              [
                pushLong        $FFFF
                retVar          
              ]
            )
            writeArrayWords $0
              [
                pushShort       $23
                retVar          
              ]
            (
              [
                pushImmed       $0
                retVar          
              ]
            )
            op19            
            (
              [
                pushImmed       $4
                retVar          
              ]
              [
                pushLong        $4000
                pushImmed       $4
                add             
                pushInt         $200
                add             
                pushShort       $20
                pushShort       $1C
                mul             
                add             
                retVar          
              ]
              [
                pushLong        $7000
                retVar          
              ]
              [
                pushLong        $2000
                pushLong        $7000
                litNybArrayRead immed $0
                mul             
                add             
                pushImmed       $2
                div             
                retVar          
              ]
            )
            op19            
            (
              [
                pushImmed       $E
                retVar          
              ]
              [
                pushLong        $4000
                pushImmed       $4
                add             
                retVar          
              ]
            )
            op19            
            (
              [
                pushImmed       $D
                retVar          
              ]
              [
                pushImmed       $0
                retVar          
              ]
              [
                pushImmed       $0
                retVar          
              ]
              [
                pushShort       $20
                retVar          
              ]
              [
                pushShort       $1C
                retVar          
              ]
              [
                pushLong        $4000
                pushImmed       $4
                add             
                pushInt         $200
                add             
                retVar          
              ]
              [
                pushInt         $100
                pushInt         $380
                litNybArrayRead immed $0
                mul             
                add             
                retVar          
              ]
            )
            writeNybsLit    immed $0
            (
              [
                litNybArrayRead immed $0
                pushImmed       $1
                add             
                pushImmed       $1
                and             
                retVar          
              ]
            )
            ret             
          }
          writeValueWord  $1A
          [
            pushArrayWord   $1A
            pushImmed       $1
            add             
            retVar          
          ]
          if              
          [
            pushArrayWord   $1A
            pushShort       $14
            lt              
            retVar          
          ]
          {
            writeValueWord  $1A
            [
              pushImmed       $0
              retVar          
            ]
            ret             
          }
          ret             
        }
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $E
      retVar          
    ]
    {
      if              
      [
        pushArrayWord   $9
        pushImmed       $0
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $21
            retVar          
          ]
        (
          [
            pushLong        $FFFF
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $23
            retVar          
          ]
        (
          [
            pushImmed       $0
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $4
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            pushInt         $200
            add             
            pushShort       $20
            pushShort       $1C
            mul             
            add             
            retVar          
          ]
          [
            pushLong        $7000
            retVar          
          ]
          [
            pushLong        $2000
            pushLong        $7000
            litNybArrayRead immed $0
            mul             
            add             
            pushImmed       $2
            div             
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $E
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $D
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushShort       $20
            retVar          
          ]
          [
            pushShort       $1C
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            pushInt         $200
            add             
            retVar          
          ]
          [
            pushInt         $100
            pushInt         $380
            litNybArrayRead immed $0
            mul             
            add             
            retVar          
          ]
        )
        writeNybsLit    immed $0
        (
          [
            litNybArrayRead immed $0
            pushImmed       $1
            add             
            pushImmed       $1
            and             
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $1
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $21
            retVar          
          ]
        (
          [
            pushLong        $FFFF
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $23
            retVar          
          ]
        (
          [
            pushImmed       $0
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $4
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            pushInt         $200
            add             
            pushShort       $20
            pushShort       $1C
            mul             
            add             
            retVar          
          ]
          [
            pushLong        $7000
            retVar          
          ]
          [
            pushLong        $2000
            pushLong        $7000
            litNybArrayRead immed $0
            mul             
            add             
            pushImmed       $2
            div             
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $E
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $D
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushShort       $20
            retVar          
          ]
          [
            pushShort       $1C
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            pushInt         $200
            add             
            retVar          
          ]
          [
            pushInt         $100
            pushInt         $380
            litNybArrayRead immed $0
            mul             
            add             
            retVar          
          ]
        )
        writeNybsLit    immed $0
        (
          [
            litNybArrayRead immed $0
            pushImmed       $1
            add             
            pushImmed       $1
            and             
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $2
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $3
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $21
            retVar          
          ]
        (
          [
            pushLong        $FFFF
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $23
            retVar          
          ]
        (
          [
            pushImmed       $0
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $4
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            pushInt         $200
            add             
            pushShort       $20
            pushShort       $1C
            mul             
            add             
            retVar          
          ]
          [
            pushLong        $7000
            retVar          
          ]
          [
            pushLong        $2000
            pushLong        $7000
            litNybArrayRead immed $0
            mul             
            add             
            pushImmed       $2
            div             
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $E
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $D
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushShort       $20
            retVar          
          ]
          [
            pushShort       $1C
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            pushInt         $200
            add             
            retVar          
          ]
          [
            pushInt         $100
            pushInt         $380
            litNybArrayRead immed $0
            mul             
            add             
            retVar          
          ]
        )
        writeNybsLit    immed $0
        (
          [
            litNybArrayRead immed $0
            pushImmed       $1
            add             
            pushImmed       $1
            and             
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        ret             
      }
      if              
      [
        pushArrayWord   $9
        pushImmed       $3
        lt              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $4
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $21
            retVar          
          ]
        (
          [
            pushLong        $FFFF
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $23
            retVar          
          ]
        (
          [
            pushImmed       $0
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $4
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            pushInt         $200
            add             
            pushShort       $20
            pushShort       $1C
            mul             
            add             
            retVar          
          ]
          [
            pushLong        $7000
            retVar          
          ]
          [
            pushLong        $2000
            pushLong        $7000
            litNybArrayRead immed $0
            mul             
            add             
            pushImmed       $2
            div             
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $E
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            retVar          
          ]
        )
        op19            
        (
          [
            pushImmed       $D
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushShort       $20
            retVar          
          ]
          [
            pushShort       $1C
            retVar          
          ]
          [
            pushLong        $4000
            pushImmed       $4
            add             
            pushInt         $200
            add             
            retVar          
          ]
          [
            pushInt         $100
            pushInt         $380
            litNybArrayRead immed $0
            mul             
            add             
            retVar          
          ]
        )
        writeNybsLit    immed $0
        (
          [
            litNybArrayRead immed $0
            pushImmed       $1
            add             
            pushImmed       $1
            and             
            retVar          
          ]
        )
        op16            
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        ret             
      }
      ret             
    }
  )
  setFunc         
  (
    [
      pushImmed       $F
      retVar          
    ]
    {
      if              
      [
        litNybArrayRead immed $A
        pushImmed       $0
        eq              
        retVar          
      ]
      {
        writeArrayWords $0
          [
            pushImmed       $9
            retVar          
          ]
        (
          [
            pushArrayWord   $0
            pushImmed       $9
            readWordArray   
            pushLong        $FFFE
            and             
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $21
            retVar          
          ]
        (
          [
            pushLong        $FFFF
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $23
            retVar          
          ]
        (
          [
            pushImmed       $0
            retVar          
          ]
        )
        func_op16       
        (
          [
            pushImmed       $3
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
        )
        func_op24       
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        if              
        [
          litNybArrayRead int $384
          pushImmed       $0
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "e5.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $2
              retVar          
            ]
          )
          loadFile        
          (
            "e6.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $1
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "e7.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $2
              retVar          
            ]
          )
          loadFile        
          (
            "e8.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $2
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "e1.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $2
              retVar          
            ]
          )
          loadFile        
          (
            "e2.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $3
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "e3.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $2
              retVar          
            ]
          )
          loadFile        
          (
            "e4.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $4
          eq              
          retVar          
        ]
        {
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          loadFile        
          (
            "e9.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          writeArrayWords $0
            [
              pushImmed       $7
              retVar          
            ]
          (
            [
              pushImmed       $2
              retVar          
            ]
          )
          loadFile        
          (
            "e10.heb"
            [
              pushLong        $4000
              retVar          
            ]
          )
          ret             
        }
        if              
        [
          litNybArrayRead int $384
          pushImmed       $0
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushShort       $3F
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $1
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushShort       $1F
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $2
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushInt         $41
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $3
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushInt         $4F
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $4
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushImmed       $F
              retVar          
            ]
          )
          ret             
        }
        writeArrayWords $0
          [
            pushImmed       $D
            retVar          
          ]
        (
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushImmed       $0
            retVar          
          ]
          [
            pushShort       $1F
            retVar          
          ]
          [
            pushInt         $DF
            retVar          
          ]
        )
        op17            
        (
        )
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        writeNybsLit    immed $0
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushImmed       $9
            retVar          
          ]
        )
        writeValueWord  $9
        [
          pushImmed       $E
          retVar          
        ]
        callFunc        
        (
          [
            pushImmed       $5
            retVar          
          ]
        )
        func_op16       
        (
          [
            pushImmed       $3
            retVar          
          ]
        )
        op16            
        (
          [
            pushInt         $78
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushImmed       $7
            retVar          
          ]
        (
          [
            pushImmed       $2
            retVar          
          ]
        )
        writeNybsLit    immed $1
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        callFunc        
        (
          [
            pushImmed       $9
            retVar          
          ]
        )
        op16            
        (
          [
            pushInt         $64
            retVar          
          ]
        )
        func_op24       
        (
          [
            pushImmed       $1
            retVar          
          ]
        )
        writeArrayWords $0
          [
            pushShort       $11
            retVar          
          ]
        (
          [
            pushShort       $12
            pushInt         $80
            add             
            retVar          
          ]
          [
            pushInt         $64
            retVar          
          ]
        )
        <MSG_1> // Z[uH
        writeArrayWords $0
          [
            pushShort       $11
            retVar          
          ]
        (
          [
            pushShort       $12
            pushInt         $80
            add             
            retVar          
          ]
          [
            pushInt         $78
            retVar          
          ]
        )
        <MSG_2> // @xdr
        writeArrayWords $0
          [
            pushShort       $11
            retVar          
          ]
        (
          [
            pushShort       $13
            pushInt         $80
            add             
            retVar          
          ]
          [
            pushInt         $88
            retVar          
          ]
        )
        <MSG_3> // @mn
        callFunc        
        (
          [
            pushImmed       $A
            retVar          
          ]
        )
        if              
        [
          litNybArrayRead int $384
          pushImmed       $0
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushImmed       $3
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $1
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushImmed       $1
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $2
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushImmed       $4
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $3
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushImmed       $4
              retVar          
            ]
          )
          ret             
        }
        else            
        if              
        [
          litNybArrayRead int $384
          pushImmed       $4
          eq              
          retVar          
        ]
        {
          op18            
          (
            [
              pushImmed       $0
              retVar          
            ]
          )
          ret             
        }
        writeArrayWords $0
          [
            pushShort       $11
            retVar          
          ]
        (
          [
            pushShort       $12
            pushInt         $80
            add             
            retVar          
          ]
          [
            pushInt         $64
            retVar          
          ]
        )
        <MSG_4> // Z[uH
        writeArrayWords $0
          [
            pushShort       $11
            retVar          
          ]
        (
          [
            pushShort       $12
            pushInt         $80
            add             
            retVar          
          ]
          [
            pushInt         $78
            retVar          
          ]
        )
        <MSG_5> // @xdr
        writeArrayWords $0
          [
            pushShort       $11
            retVar          
          ]
        (
          [
            pushShort       $13
            pushInt         $80
            add             
            retVar          
          ]
          [
            pushInt         $88
            retVar          
          ]
        )
        <MSG_6> // @mn
        if              
        [
          pushArrayWord   $13
          pushImmed       $1
          eq              
          retVar          
        ]
        {
          if              
          [
            litNybArrayRead int $384
            pushImmed       $0
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushShort       $3F
                retVar          
              ]
            )
            ret             
          }
          else            
          if              
          [
            litNybArrayRead int $384
            pushImmed       $1
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushShort       $1F
                retVar          
              ]
            )
            ret             
          }
          else            
          if              
          [
            litNybArrayRead int $384
            pushImmed       $2
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushInt         $41
                retVar          
              ]
            )
            ret             
          }
          else            
          if              
          [
            litNybArrayRead int $384
            pushImmed       $3
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushInt         $4F
                retVar          
              ]
            )
            ret             
          }
          else            
          if              
          [
            litNybArrayRead int $384
            pushImmed       $4
            eq              
            retVar          
          ]
          {
            op18            
            (
              [
                pushImmed       $F
                retVar          
              ]
            )
            ret             
          }
          writeArrayWords $0
            [
              pushShort       $11
              retVar          
            ]
          (
            [
              pushImmed       $A
              pushInt         $80
              add             
              retVar          
            ]
            [
              pushInt         $64
              retVar          
            ]
          )
          <MSG_7> // H
          writeArrayWords $0
            [
              pushShort       $11
              retVar          
            ]
          (
            [
              pushImmed       $A
              pushInt         $80
              add             
              retVar          
            ]
            [
              pushInt         $78
              retVar          
            ]
          )
          <MSG_8> // PZ[u
          writeArrayWords $0
            [
              pushShort       $11
              retVar          
            ]
          (
            [
              pushImmed       $A
              pushInt         $80
              add             
              retVar          
            ]
            [
              pushInt         $88
              retVar          
            ]
          )
          <MSG_9> // QZ[u
          callFunc        
          (
            [
              pushImmed       $A
              retVar          
            ]
          )
          if              
          [
            pushArrayWord   $13
            pushImmed       $1
            eq              
            retVar          
          ]
          {
            writeNybsLit    immed $A
            (
              [
                pushImmed       $1
                retVar          
              ]
            )
            func_op21       
            (
              [
                pushImmed       $1
                retVar          
              ]
              [
                pushImmed       $0
                retVar          
              ]
            )
            ret             
          }
          else            
          if              
          [
            pushArrayWord   $13
            pushImmed       $2
            eq              
            retVar          
          ]
          {
            writeNybsLit    immed $A
            (
              [
                pushImmed       $1
                retVar          
              ]
            )
            func_op21       
            (
              [
                pushImmed       $1
                retVar          
              ]
              [
                pushImmed       $1
                retVar          
              ]
            )
            ret             
          }
          ret             
        }
        ret             
      }
      writeNybsLit    immed $A
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      func_op16       
      (
        [
          pushImmed       $3
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
      )
      writeValueWord  $9
      [
        pushImmed       $0
        retVar          
      ]
      callFunc        
      (
        [
          pushImmed       $6
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushShort       $10
      retVar          
    ]
    {
      func_op16       
      (
        [
          pushImmed       $2
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $A
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushLong        $FFFF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $20
          pushShort       $1C
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $7000
          retVar          
        ]
        [
          pushLong        $2000
          pushLong        $7000
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $C
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $100
          pushInt         $380
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $20
          pushShort       $1C
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $7000
          retVar          
        ]
        [
          pushLong        $2000
          pushLong        $7000
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $C
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $100
          pushInt         $380
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $C
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $100
          pushInt         $380
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushShort       $29
      retVar          
    ]
    {
      ret             
    }
  )
  setFunc         
  (
    [
      pushShort       $2A
      retVar          
    ]
    {
      ret             
    }
  )
  
  //==============================
  // NEW: subtitle load
  //==============================
  
  setFunc         
  (
    [
      pushShort       $2B
      retVar          
    ]
    {
/*      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $1
          retVar          
        ]
      ) */
      // send data to vram
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        
        // src
        [
          pushLong        $4000
          retVar          
        ]
        
        // size
        [
//          pushInt         $A0
//          pushShort       $10
//          mul
          pushLong        $1200
          retVar          
        ]
        
        // dst
        [
//          pushLong        $B000
          pushLong        $7000
          pushShort       $10
          div
          retVar          
        ]
      )
      
      // send palette
      
      // ???
      // this is what the reference code from oikake.mes does...
      // 32E0 = 0x0001
      // ???
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      // 32E4 = 0x0010
      // gets multiplied by 32; number of palettes?
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushShort       $10
          retVar          
        ]
      )
      // transfer to memory
      op19            
      (
        [
          pushImmed       $6
          retVar          
        ]
        // src
        [
//          pushLong        $4A00
          pushLong        $5200
          retVar          
        ]
      )
      
      // refresh palette
      func_op16       
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      
      // transfer sprite table from new location
/*      op19            
      (
        [
          pushShort       $20
          retVar          
        ]
      ) */
      // (now the caller's responsibility due to CD loading constraints)
    
      ret             
    }
  )
  
  //==============================
  // NEW: subtitle clear
  //==============================
  
  setFunc         
  (
    [
      pushShort       $2C
      retVar          
    ]
    {
      // clear SAT at new location
      op19            
      (
        [
          pushShort       $21
          retVar          
        ]
      )
      
      // transfer sprite table to SATB from new location
      op19            
      (
        [
          pushShort       $20
          retVar          
        ]
      )
    
      ret             
    }
  )
  
  //==============================
  // NEW: lyric subtitle load
  //==============================
  
  setFunc         
  (
    [
      pushShort       $2D
      retVar          
    ]
    {
      // send graphic 1 data + sprite table to vram
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        
        // src
        [
          pushArrayWord   $1
          retVar          
        ]
        
        // size (bytes)
        [
          pushLong        $1200
          retVar          
        ]
        
        // dst
        [
          pushLong        $7000
          pushShort       $10
          div
          retVar          
        ]
      )
      
      // send graphic 2 data to vram
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        
        // src
        [
          pushArrayWord   $1
          pushLong        $1400
          add
          retVar          
        ]
        
        // size (bytes)
        [
          pushLong        $1000
          retVar          
        ]
        
        // dst
        [
          pushLong        $7000
          retVar          
        ]
      )
  
      // wait a frame to allow for loading
      op16            
      (
        [
          pushImmed       1
          retVar          
        ]
      )
      
      // send palette
      
      // bitfield of palettes to send (bit 0 = first palette, etc.)
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushImmed       $3
          retVar          
        ]
      )
      // starting palette target index ($10 = sprite palettes start)
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushShort       $10
          retVar          
        ]
      )
      // transfer to memory
      op19            
      (
        [
          pushImmed       $6
          retVar          
        ]
        // src
        [
          pushArrayWord   $1
          pushLong        $1200
          add
          retVar          
        ]
      )
      
      // refresh palette
      func_op16       
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
    
      ret             
    }
  )
  
  
  
  
  
  
  func_op16       
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $D
      retVar          
    ]
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushShort       $1F
      retVar          
    ]
    [
      pushInt         $DF
      retVar          
    ]
  )
  op18            
  (
    [
      pushImmed       $7
      retVar          
    ]
  )
  op17            
  (
  )
  func_op16       
  (
    [
      pushImmed       $0
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $C
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $C
      readWordArray   
      pushLong        $FFFE
      and             
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushLong        $FF7F
      and             
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushShort       $20
      or              
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushLong        $7FFF
      and             
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $C
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $C
      readWordArray   
      pushLong        $FFFD
      and             
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $B
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  writeValueWord  $1
  [
    pushImmed       $0
    retVar          
  ]
  func_op21       
  (
    [
      pushImmed       $5
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  if              
  [
    pushArrayWord   $13
    pushImmed       $0
    eq              
    retVar          
  ]
  {
    writeValueWord  $1
    [
      pushArrayWord   $1
      pushImmed       $1
      add             
      retVar          
    ]
    ret             
  }
  func_op21       
  (
    [
      pushImmed       $5
      retVar          
    ]
    [
      pushImmed       $1
      retVar          
    ]
  )
  if              
  [
    pushArrayWord   $13
    pushImmed       $0
    eq              
    retVar          
  ]
  {
    writeValueWord  $1
    [
      pushArrayWord   $1
      pushImmed       $1
      add             
      retVar          
    ]
    ret             
  }
  func_op21       
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  if              
  [
    pushArrayWord   $13
    pushLong        $7FFF
    lt              
    retVar          
  ]
  {
    writeValueWord  $13
    [
      pushImmed       $0
      retVar          
    ]
    ret             
  }
  writeValueWord  $13
  [
    pushArrayWord   $13
    pushImmed       $2
    sub             
    retVar          
  ]
  if              
  [
    pushArrayWord   $1
    pushImmed       $0
    eq              
    retVar          
  ]
  {
    writeValueWord  $2
    [
      pushImmed       $0
      retVar          
    ]
    if              
    [
      pushArrayWord   $13
      pushInt         $4AF
      lt              
      retVar          
    ]
    {
      writeValueWord  $2
      [
        pushImmed       $2
        retVar          
      ]
      ret             
    }
    else            
    if              
    [
      pushArrayWord   $13
      pushInt         $257
      lt              
      retVar          
    ]
    {
      writeValueWord  $2
      [
        pushImmed       $1
        retVar          
      ]
      ret             
    }
    ret             
  }
  else            
  if              
  [
    pushArrayWord   $1
    pushImmed       $1
    eq              
    retVar          
  ]
  {
    writeValueWord  $2
    [
      pushImmed       $1
      retVar          
    ]
    if              
    [
      pushArrayWord   $13
      pushInt         $257
      lt              
      retVar          
    ]
    {
      writeValueWord  $2
      [
        pushImmed       $2
        retVar          
      ]
      ret             
    }
    ret             
  }
  else            
  if              
  [
    pushArrayWord   $1
    pushImmed       $2
    eq              
    retVar          
  ]
  {
    writeValueWord  $2
    [
      pushImmed       $2
      retVar          
    ]
    ret             
  }
  if              
  [
    pushArrayWord   $2
    pushImmed       $2
    gt              
    retVar          
  ]
  {
    func_op16       
    (
      [
        pushImmed       $3
        retVar          
      ]
      [
        pushImmed       $0
        retVar          
      ]
    )
    writeValueWord  $9
    [
      pushImmed       $0
      retVar          
    ]
    callFunc        
    (
      [
        pushImmed       $6
        retVar          
      ]
    )
    callFunc        
    (
      [
        pushImmed       $1
        retVar          
      ]
    )
    <MSG_10> // Z[uB
    callFunc        
    (
      [
        pushImmed       $C
        retVar          
      ]
    )
    <MSG_11> // obNAbv[eAxB
    func_op16       
    (
      [
        pushImmed       $3
        retVar          
      ]
    )
    ifThenWhile     $F
      [
        pushImmed       $1
        pushImmed       $1
        eq              
        retVar          
      ]
      {
        ret             
      }
    ret             
  }
  func_op24       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  setFunc         
  (
    [
      pushShort       $14
      retVar          
    ]
    {
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushLong        $FFFF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $20
          pushShort       $1C
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $7000
          retVar          
        ]
        [
          pushLong        $2000
          pushLong        $7000
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $C
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $100
          pushInt         $380
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          add             
          pushImmed       $1
          and             
          retVar          
        ]
      )
      ret             
    }
  )
  setFunc         
  (
    [
      pushShort       $15
      retVar          
    ]
    {
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushLong        $FFFF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $20
          pushShort       $1C
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $7000
          retVar          
        ]
        [
          pushLong        $2000
          pushLong        $7000
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $D
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $100
          pushInt         $380
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          add             
          pushImmed       $1
          and             
          retVar          
        ]
      )
      ret             
    }
  )
  func_op20       
  (
    {
      op19            
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      func_op24       
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      func_op16       
      (
        [
          pushImmed       $3
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      loadFile        
      (
        "title_b.HEB"
        [
          pushLong        $4000
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      loadAndRun      
      (
        "start1.mes"
      )
      ret             
    }
  )
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushLong        $FFFB
      and             
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushInt         $FFF
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "title1.heb"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $32
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushInt         $FFF
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "title3.heb"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $32
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D1_01.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D1_02.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  loadFile        
  (
    "D2_01.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  loadFile        
  (
    "D2_02.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  loadFile        
  (
    "D2_04.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $5
      retVar          
    ]
  )
  loadFile        
  (
    "D2_06.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  playSound       
  (
    "op00"
  )
  op16            
  (
    [
      pushInt         $64
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $F
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $A
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $F
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $5
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $5
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D3_05.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  loadFile        
  (
    "D3_06.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  playSound       
  (
    "op01"
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  playSound       
  (
    "op07"
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D4.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D5_01.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D5_03.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  loadFile        
  (
    "D5_06.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  loadFile        
  (
    "D5_07.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  loadFile        
  (
    "D5_08.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  playSound       
  (
    "op02"
  )
  op16            
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $5
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $5
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $5
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D6_01.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  loadFile        
  (
    "D6_02.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  loadFile        
  (
    "D6_03.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  playSound       
  (
    "op03"
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D8.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $A
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  playSound       
  (
    "op05"
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D9.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $791A
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D10.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $791A
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D11.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $791A
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D12.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  playSound       
  (
    "op07"
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D13.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D14_01.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $1E
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushLong        $25AE
      retVar          
    ]
  )
  func_op1A       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  playSound       
  (
    "op06"
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D15_04.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $1E
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $32
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D16.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $32
      retVar          
    ]
  )
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  op16            
  (
    [
      pushInt         $64
      retVar          
    ]
  )
  
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "D17_01.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  loadFile        
  (
    "D17_02.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  loadFile        
  (
    "D17_03.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  
  //============================
  // "i must inform"
  //============================
  
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $5
      retVar          
    ]
  )
  loadFile        
  (
    "intrs_0"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $2B
      retVar          
    ]
  )
  
  //============================
  // cheat a little:
  // load first subtitle for intro
  // and make sure its palette is
  // in place before the sequence
  // starts, so the fade-in will
  // work correctly
  //============================
  
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  loadFile        
  (
    "opsub00"
    [
      pushLong        $4000
      retVar          
    ]
  )
  
  playSound       
  (
    "p265"
  )
  
  writeValueWord  $9
  [
    pushImmed       $0
    retVar          
  ]
  
  // NEW: show first image immediately.
  // if we don't, the subs will appear slightly before the image does,
  // which is jarring.
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  ifThenWhile     $F
    [
      pushArrayWord   $9
      pushImmed       $9
      neg             
      retVar          
    ]
    {
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      op16            
      (
        [
          pushImmed       $5
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      op16            
      (
        [
          pushImmed       $5
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $3
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      op16            
      (
        [
          pushImmed       $5
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      op16            
      (
        [
          pushImmed       $5
          retVar          
        ]
      )
      writeValueWord  $9
      [
        pushArrayWord   $9
        pushImmed       $1
        add             
        retVar          
      ]
      ret             
    }
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  op16            
  (
    [
      pushImmed       $5
      retVar          
    ]
  )
  
  //==================================
  // copy initial subtitle palette to
  // memory
  //==================================
  
  // slot = 4
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  
  // bitfield of target palettes
  writeArrayWords $0
    [
      pushShort       $21
      retVar          
    ]
  (
    [
      pushLong        $FFFF
      retVar          
    ]
  )
  // starting palette index ($10 == sprite palettes start)
  writeArrayWords $0
    [
      pushShort       $23
      retVar          
    ]
  (
    [
//      pushImmed       $0
      pushShort       $10
      retVar          
    ]
  )
  // copy native-format palettes
  op19            
  (
    [
      pushImmed       $6
      retVar          
    ]
    // src
    [
      pushLong        $5200
      retVar          
    ]
  )
  
  // fade to black
/*  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  ) */
  
  // fill bg palettes with black
  op19            
  (
    [
      pushShort       $23
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  
  // fade
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  
  op16            
  (
    [
      pushInt         $64
      retVar          
    ]
  )
  
  // load image, no immediate palette transfer?
  setFunc         
  (
    [
      pushShort       $14
      retVar          
    ]
    {
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushLong        $FFFF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $20
          pushShort       $1C
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $7000
          retVar          
        ]
        [
          pushLong        $2000
          pushLong        $7000
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $C
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $100
          pushInt         $380
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          add             
          pushImmed       $1
          and             
          retVar          
        ]
      )
      ret             
    }
  )
  
  // load image immediately?
  setFunc         
  (
    [
      pushShort       $15
      retVar          
    ]
    {
      writeArrayWords $0
        [
          pushShort       $21
          retVar          
        ]
      (
        [
          pushLong        $FFFF
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushShort       $23
          retVar          
        ]
      (
        [
          pushImmed       $0
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $4
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          pushShort       $20
          pushShort       $1C
          mul             
          add             
          retVar          
        ]
        [
          pushLong        $7000
          retVar          
        ]
        [
          pushLong        $2000
          pushLong        $7000
          litNybArrayRead immed $0
          mul             
          add             
          pushImmed       $2
          div             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $E
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          retVar          
        ]
      )
      op19            
      (
        [
          pushImmed       $D
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
        [
          pushShort       $20
          retVar          
        ]
        [
          pushShort       $1C
          retVar          
        ]
        [
          pushLong        $4000
          pushImmed       $4
          add             
          pushInt         $200
          add             
          retVar          
        ]
        [
          pushInt         $100
          pushInt         $380
          litNybArrayRead immed $0
          mul             
          add             
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          litNybArrayRead immed $0
          pushImmed       $1
          add             
          pushImmed       $1
          and             
          retVar          
        ]
      )
      ret             
    }
  )
  
  // set cancel function
  
  func_op20       
  (
    {
      op19            
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      func_op24       
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      func_op16       
      (
        [
          pushImmed       $3
          retVar          
        ]
        [
          pushImmed       $0
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      loadFile        
      (
        "title_b.HEB"
        [
          pushLong        $4000
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      loadAndRun      
      (
        "start1.mes"
      )
      ret             
    }
  )
  
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushLong        $FFFB
      and             
      retVar          
    ]
  )
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushImmed       $4
      or              
      retVar          
    ]
  )
  
  
  // fade to black
/*  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  ) */
  
  // fill bg palettes with black
  op19            
  (
    [
      pushShort       $23
      retVar          
    ]
    [
      pushImmed       $0
      retVar          
    ]
  )
  
  // fade
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  
  // load title image A (0x7584 bytes) to backmem slot 1
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "title.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  
  //=============================================================
  // our strategy here:
  // * allow title.heb to "load" as normal.
  //   we have replaced its palette with
  //   one containing the colors we need.
  //   it will never actually be displayed
  // * load but do not use title_b.heb, which contains
  //   the with title logo image.
  //   instead, load an optimized tilemap
  //   and graphics from the new file
  //   "titlflash.bin".
  // * the new tilemap contains data for
  //   a 64x32 tile screen.
  //   to do the title flash, instead of
  //   reloading the entire tilemap
  //   between the two bitmapped images,
  //   we simply manipulate the scroll
  //   position.
  // * this frees up space at VRAM words
  //   $0700-$1FFF for subtitle pattern data.
  //=============================================================
  
  //==================================
  // NEW: load new title data to backmem slot 2
  //==================================
  
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  loadFile        
  (
    "titlflas.bin"
    [
      pushLong        $4000
      retVar          
    ]
  )
  
  //====================================
  // MOVED: set up for title logo fade-in
  //====================================
  
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushImmed       $4
      or              
      retVar          
    ]
  )
  writeNybsLit    immed $0
  (
    [
      pushImmed       $0
      retVar          
    ]
  )
  // load image, don't immediately reload palette?
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $14
      retVar          
    ]
  )
  
  //==================================
  // NEW: send optimized tile graphics/map to vram
  //==================================
  
  // target backmem slot 2
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  
  // graphics
  op19            
  (
    [
      pushImmed       $4
      retVar          
    ]
    
    // src
    [
      pushLong        $4E00
      retVar          
    ]
    
    // size (bytes)
    [
      pushLong        $C000
      retVar          
    ]
    
    // dst
    [
      pushLong        $1000
      retVar          
    ]
  )
  
  // tilemap
  op19            
  (
    [
      pushImmed       $4
      retVar          
    ]
    
    // src
    [
      pushLong        $4000
      retVar          
    ]
    
    // size (bytes)
    [
      pushLong        $0E00
      retVar          
    ]
    
    // dst
    [
      pushImmed       $0
      retVar          
    ]
  )
  
  // NEW: scroll to screen 1 = blank title
  op19            
  (
    [
      pushImmed       $A
      retVar          
    ]
    // x
    [
      pushInt         $100
      retVar          
    ]
    // y
    [
      pushImmed       $0
      retVar          
    ]
  )
  
  //==================================
  // load title image B (0x7584 bytes) to backmem slot 2
  // so it will be immediately available if user skips
  // scene with start
  //==================================
  
/*  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  loadFile        
  (
    "title_b.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  ) */
  
  //==================================
  // subtitle pack 0 (subs 0-3) to backmem slot 1
  //==================================
  
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  loadFile        
  (
    "opsub_p0"
    [
      pushLong        $4000
      retVar          
    ]
  )
  
  //==================================
  // subtitle pack 1 (subs 4-7) to backmem slot 2
  //==================================
  
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  loadFile        
  (
    "opsub_p1"
    [
      pushLong        $4000
      retVar          
    ]
  )
  
  //==================================
  // subtitle pack 2 (subs 8-11) to backmem slot 3
  //==================================
  
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  loadFile        
  (
    "opsub_p2"
    [
      pushLong        $4000
      retVar          
    ]
  )
  
  //==================================
  // subtitle pack 3 (subs 12-13) to backmem slot 4
  //==================================
  
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  loadFile        
  (
    "opsub_p3"
    [
      pushLong        $4000
      retVar          
    ]
  )
  
  //==================================
  // copy initial subtitle palette to
  // memory
  //==================================
  
  // slot = 1
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  
  // bitfield of target palettes
  writeArrayWords $0
    [
      pushShort       $21
      retVar          
    ]
  (
    [
      pushLong        $FFFF
      retVar          
    ]
  )
  // starting palette index ($10 == sprite palettes start)
  writeArrayWords $0
    [
      pushShort       $23
      retVar          
    ]
  (
    [
//      pushImmed       $0
      pushShort       $10
      retVar          
    ]
  )
  // copy native-format palettes
  op19            
  (
    [
      pushImmed       $6
      retVar          
    ]
    // src
    [
      pushLong        $5200
      retVar          
    ]
  )
  
  //====================================
  // start audio track 8 = title theme
  //====================================
  
  // stop all psg tracks
  func_op24       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  
  op19            
  (
    [
      pushImmed       $0
      retVar          
    ]
    [
      pushImmed       $8
      retVar          
    ]
  )
  
  // set cancel function
  func_op20       
  (
    {
      op19            
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      func_op24       
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      writeNybsLit    immed $0
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      
      // *** clear subs
      callFunc        
      (
        [
          pushShort       $2C
          retVar          
        ]
      )
      
      // NEW: scroll to screen 0
      op19            
      (
        [
          pushImmed       $A
          retVar          
        ]
        // x
        [
          pushImmed       $0
          retVar          
        ]
        // y
        [
          pushImmed       $0
          retVar          
        ]
      )
  
      // NEW: load title graphic from disc
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      loadFile        
      (
        "title_b.HEB"
        [
          pushLong        $4000
          retVar          
        ]
      )
      
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      loadAndRun      
      (
        "start1.mes"
      )
      ret             
    }
  )
  
  // ?
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushLong        $FFFB
      and             
      retVar          
    ]
  )
  
  //====================================
  // wait until first line of song
  //====================================
  
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $1E
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 0: "Saa ai no energy"
  // time = 330
  //====================================
  
  // slot = 1
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  
  // argument: src
/*  writeValueWord  $1
  [
    pushLong          $4000
    retVar          
  ]
  
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  ) */
  // do this line manually because we don't want to
  // refresh the palette (the background fades in as this shows)
  // send graphic 1 data to vram
  op19            
  (
    [
      pushImmed       $4
      retVar          
    ]
    
    // src
    [
      pushLong        $4000
      retVar          
    ]
    
    // size (bytes)
    [
      pushLong        $1200
      retVar          
    ]
    
    // dst
    [
      pushLong        $7000
      pushShort       $10
      div
      retVar          
    ]
  )
  // send graphic 2 data to vram
  op19            
  (
    [
      pushImmed       $4
      retVar          
    ]
    
    // src
    [
      pushLong        $5400
      retVar          
    ]
    
    // size (bytes)
    [
      pushLong        $1000
      retVar          
    ]
    
    // dst
    [
      pushLong        $7000
      retVar          
    ]
  )
  // wait a frame to allow for loading
  op16            
  (
    [
      pushImmed       1
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // do fade-in
  //====================================
  
  func_op16       
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  
  //====================================
  // set scene interrupted function
  //====================================
  
  func_op20       
  (
    {
      writeNybsLit    immed $0
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      
      // *** clear subs
      callFunc        
      (
        [
          pushShort       $2C
          retVar          
        ]
      )
      
      // NEW: scroll to screen 0
      op19            
      (
        [
          pushImmed       $A
          retVar          
        ]
        // x
        [
          pushImmed       $0
          retVar          
        ]
        // y
        [
          pushImmed       $0
          retVar          
        ]
      )
  
      // NEW: load title graphic from disc
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      loadFile        
      (
        "title_b.HEB"
        [
          pushLong        $4000
          retVar          
        ]
      )
      
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      
      op19            
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      func_op24       
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      loadAndRun      
      (
        "start1.mes"
      )
      ret             
    }
  )
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushLong        $FFFB
      and             
      retVar          
    ]
  )
  
  //====================================
  // wait for end of song intro
  //====================================
  
  // wait 14.5 seconds
  // (actual time is 15.5 seconds, but this accounts for the
  // 1-second fade-in)
/*  op16            
  (
    [
      pushShort       $1E
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  )
  op16            
  (
    [
      pushShort       $3C
      retVar          
    ]
  ) */
  
  //====================================
  // *** SUBTITLE 1: "Mou ichido yume mite"
  // time = 881
  //====================================
  
/*  op16            
  (
    [
      pushLong       490
      retVar          
    ]
  ) */
  op16            
  (
    [
      pushLong       60
      retVar          
    ]
  )
  op16            
  (
    [
      pushLong       60
      retVar          
    ]
  )
  op16            
  (
    [
      pushLong       60
      retVar          
    ]
  )
  op16            
  (
    [
      pushLong       60
      retVar          
    ]
  )
  op16            
  (
    [
      pushLong       60
      retVar          
    ]
  )
  op16            
  (
    [
      pushLong       60
      retVar          
    ]
  )
  op16            
  (
    [
      pushLong       60
      retVar          
    ]
  )
  op16            
  (
    [
      pushLong       60
      retVar          
    ]
  )
  op16            
  (
    [
      pushLong       9
      retVar          
    ]
  )
  
  // slot = 1
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $6400
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 1 END
  // time = 1269
  //====================================
  
/*  op16            
  (
    [
      pushLong       388
      retVar          
    ]
  ) */
    op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       27
      retVar
    ]
  )
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  //====================================
  // flash title logo.
  // 130 frames total
  //====================================
  
  // NOTE: original game takes 6 frames to switch between
  // each image in flash due to vram loading times.
  // obviously setting the scroll register is much faster,
  // so we have to artificially slow it down.
  
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushImmed       $4
      or              
      retVar          
    ]
  )
  writeValueWord  $A
  [
    pushImmed       $0
    retVar          
  ]
  ifThenWhile     $F
    [
      pushArrayWord   $A
      pushImmed       $5
      neg             
      retVar          
    ]
    {
      // load img2
/*      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      // load img1
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      ) */
      
      // scroll to screen 0
      op19            
      (
        [
          pushImmed       $A
          retVar          
        ]
        // x
        [
          pushImmed       $0
          retVar          
        ]
        // y
        [
          pushImmed       $0
          retVar          
        ]
      )
      
      // delay 5 frames
      op16            
      (
        [
          pushImmed      5
          retVar          
        ]
      )
      
      // scroll to screen 1
      op19            
      (
        [
          pushImmed       $A
          retVar          
        ]
        // x
        [
          pushInt         $100
          retVar          
        ]
        // y
        [
          pushImmed       $0
          retVar          
        ]
      )
      
      // delay 5 frames
      op16            
      (
        [
          pushImmed      5
          retVar          
        ]
      )
      
      // ?
      writeValueWord  $A
      [
        pushArrayWord   $A
        pushImmed       $1
        add             
        retVar          
      ]
      ret             
    }
  
  //====================================
  // load img2 (title with logo) permanently
  //====================================
  
/*  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  ) */
  
  // NEW: scroll to screen 0
  op19            
  (
    [
      pushImmed       $A
      retVar          
    ]
    // x
    [
      pushImmed       $0
      retVar          
    ]
    // y
    [
      pushImmed       $0
      retVar          
    ]
  )
  
  // set scene interrupted function
  func_op20       
  (
    {
      // *** clear subs
      callFunc        
      (
        [
          pushShort       $2C
          retVar          
        ]
      )
      
      // NEW: load title graphic from disc
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      loadFile        
      (
        "title_b.HEB"
        [
          pushLong        $4000
          retVar          
        ]
      )
      
      // NEW: load proper title_b.heb image
      writeArrayWords $0
        [
          pushImmed       $7
          retVar          
        ]
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      callFunc        
      (
        [
          pushShort       $15
          retVar          
        ]
      )
      
      op19            
      (
        [
          pushImmed       $1
          retVar          
        ]
      )
      func_op24       
      (
        [
          pushImmed       $2
          retVar          
        ]
      )
      loadAndRun      
      (
        "start1.mes"
      )
      ret             
    }
  )
  writeArrayWords $0
    [
      pushImmed       $9
      retVar          
    ]
  (
    [
      pushArrayWord   $0
      pushImmed       $9
      readWordArray   
      pushLong        $FFFB
      and             
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 2: "Sora ga abareteiru"
  // time = 2743
  //====================================
  
/*  op16            
  (
    [
      pushLong       1409
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       28
      retVar
    ]
  )
  
  // slot = 1
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $8800
    retVar          
  ]
  
  // *** clear subs
//  callFunc        
//  (
//    [
//      pushShort       $2C
//      retVar          
//    ]
//  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 3: "Aah hisonde iru wa"
  // time = 3364
  //====================================
  
/*  op16            
  (
    [
      pushLong       620
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       19
      retVar
    ]
  )
  
  // slot = 1
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $AC00
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 4: "Machi ni jaaku na beam"
  // time = 3570
  //====================================
  
/*  op16            
  (
    [
      pushLong       205
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       24
      retVar
    ]
  )
  
  // slot = 2
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $4000
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 5: "Mou atama ni kichyau"
  // time = 4187
  //====================================
  
/*  op16            
  (
    [
      pushLong       616
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       15
      retVar
    ]
  )
  
  // slot = 2
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $6400
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 6: "Youkai ni ghost matomete"
  // time = 4383
  //====================================
  
/*  op16            
  (
    [
      pushLong       195
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       14
      retVar
    ]
  )
  
  // slot = 2
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $8800
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 7: "Itsudatte ai to seigi"
  // time = 4792
  //====================================
  
/*  op16            
  (
    [
      pushLong       408
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       47
      retVar
    ]
  )
  
  // slot = 2
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $AC00
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 8: "Saa mae wo muite"
  // time = 5314
  //====================================
  
/*  op16            
  (
    [
      pushLong       521
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       40
      retVar
    ]
  )
  
  // slot = 3
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $4000
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 9: "Muun tiara akushon"
  // time = 5730
  //====================================
  
/*  op16            
  (
    [
      pushLong       415
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       54
      retVar
    ]
  )
  
  // slot = 3
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $6400
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 10: "Chansu yo"
  // time = 5932
  //====================================
  
/*  op16            
  (
    [
      pushLong       201
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       20
      retVar
    ]
  )
  
  // slot = 3
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $8800
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 11: "Saa ai no energy (2)"
  // time = 6141
  //====================================
  
/*  op16            
  (
    [
      pushLong       202
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       21
      retVar
    ]
  )
  
  // slot = 3
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $3
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $AC00
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 12: "Nee konna kawaii ko"
  // time = 6548
  //====================================
  
/*  op16            
  (
    [
      pushLong       406
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       45
      retVar
    ]
  )
  
  // slot = 4
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $4000
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 13: "Ijimeru nante yurusanai"
  // time = 7080
  //====================================
  
/*  op16            
  (
    [
      pushLong       530
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       49
      retVar
    ]
  )
  
  // slot = 4
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $4
      retVar          
    ]
  )
  
  // argument: src
  writeValueWord  $1
  [
    pushLong          $6400
    retVar          
  ]
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  // *** load subs
  callFunc        
  (
    [
      pushShort       $2D
      retVar          
    ]
  )

  // *** show subs
  op19            
  (
    [
      pushShort       $20
      retVar          
    ]
  )
  
  //====================================
  // *** SUBTITLE 13 end
  // time = 7365
  //====================================
  
/*  op16            
  (
    [
      pushLong       285
      retVar          
    ]
  ) */
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       60
      retVar
    ]
  )
  op16
  (
    [
      pushLong       44
      retVar
    ]
  )
  
  // *** clear subs
  callFunc        
  (
    [
      pushShort       $2C
      retVar          
    ]
  )
  
  //====================================
  // wait for end of song?
  //====================================
  
  op19            
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  
  //====================================
  // finish up
  //====================================
  
  // NEW: load proper title_b.heb image
  writeArrayWords $0
    [
      pushImmed       $7
      retVar          
    ]
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  loadFile        
  (
    "title_b.HEB"
    [
      pushLong        $4000
      retVar          
    ]
  )
  callFunc        
  (
    [
      pushShort       $15
      retVar          
    ]
  )
  
  // stop cd audio?
  op19            
  (
    [
      pushImmed       $1
      retVar          
    ]
  )
  
  // stop all psg tracks
  func_op24       
  (
    [
      pushImmed       $2
      retVar          
    ]
  )
  
  // loop
  loadAndRun      
  (
    "start.mes"
  )
  ret             
}
